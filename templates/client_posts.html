{% extends 'base.html' %}
{% block content %}
<div class="min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300">
    <div class="container mx-auto p-4">
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-4">Posts for {{ client.name }}</h2>
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">Create Post</h3>
            <form method="POST" class="mt-4" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="content" class="font-medium text-gray-600 dark:text-gray-400">Content</label>
                    <textarea id="content" name="content" class="w-full p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
                </div>
                <div class="form-group mt-4">
                    <label for="caption" class="font-medium text-gray-600 dark:text-gray-400">Caption (Optional)</label>
                    <input type="text" id="caption" name="caption" class="w-full p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="form-group mt-4">
                    <label for="file" class="font-medium text-gray-600 dark:text-gray-400">Upload Media (Optional, allowed: png, jpg, jpeg, gif, mp4)</label>
                    <input type="file" id="file" name="file" class="w-full p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500" accept="image/png,image/jpeg,image/gif,video/mp4">
                </div>
                <div class="form-group mt-4">
                    <label for="schedule_date" class="font-medium text-gray-600 dark:text-gray-400">Schedule Date (Optional)</label>
                    <input type="date" id="schedule_date" name="schedule_date" class="w-full p-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <button type="submit" class="mt-4 p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition">Create Post</button>
            </form>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">Posts</h3>
            <ul class="mt-4 space-y-2">
                {% for post in posts %}
                <li>
                    <a href="{{ url_for('post_detail', post_id=post.id) }}" class="text-blue-600 dark:text-blue-400">{{ post.id[:8] }}... - {{ post.status|capitalize }} {% if post.caption %} - {{ post.caption|truncate(20) }} {% endif %}</a>
                </li>
                {% endfor %}
            </ul>
            <a href="{{ url_for('dashboard') }}" class="mt-4 inline-block p-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition">Back to Dashboard</a>
        </div>
    </div>
</div>
{% endblock %}